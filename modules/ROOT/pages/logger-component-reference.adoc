= Logger Component
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:keywords: mule, esb, studio, logger, logs, log, notifications, errors, debug

This Core component helps you monitor and debug your Mule application by logging important information such as error messages, status notifications, payloads, and so on. You can add a Logger anywhere in a flow, and you can configure it to log a string that you specify, the output of a DataWeave expression you write, or any combination of strings and expressions.

//TODO: IS THIS TRUE BEYOND ON-PREM INSTALLATIONS? 
The configured messages are logged in a Mule application's log file, which is located in `MULE_HOME/logs/<app-name>.log` if no custom log file path is specified in the `log4j2.xml` file. For details, see xref:logging-and-debugging.adoc[].

In Anypoint Studio, the logs print to the xref:studio::index.adoc#console[console].

The following example logs the message `Hello MuleSoft!`.

image::logger-flow.png[]

.Example: XML Configuration of the Flow
[source,xml,linenums]
----
	<http:listener-config name="HTTP_Listener_config" doc:name="HTTP Listener config" >
		<http:listener-connection host="0.0.0.0" port="8081" />
	</http:listener-config><flow name="logger-example-Flow">
  <http:listener config-ref="HTTP_Listener_Configuration" path="/"/>
  <set-payload value="Hello MuleSoft!"/>
  <logger message="#[payload]" level="INFO"/>
</flow>
----

In the Studio console, the logged message, `Hello MuleSoft!` looks like this:

[source,logs]
----
INFO  2022-11-10 19:39:18,222 [[MuleRuntime].uber.01: [w-logger].logger-example-Flow.CPU_LITE @6f862394] 
[processor: logger-example-Flow/processors/1; event: 6bd2b350-6172-11ed-9f87-147ddaaf4f97] 
org.mule.runtime.core.internal.processor.LoggerMessageProcessor: Hello MuleSoft!
----

* The configurable log level is `INFO`. See <<reference>>.
* A date-time stamp `2022-11-10 19:39:18,222` indicates when the Logger executes.
* CPU_LITE is the See xref:execution-engine.adoc#processing_types[processing type].
* `event: 6bd2b350-6172-11ed-9f87-147ddaaf4f97` identifies the Mule event. 
* The message processor `org.mule.runtime.core.internal.processor.LoggerMessageProcessor` prints the message `Hello MuleSoft!`.

[[reference]]
== Reference

image::logger.png[]

[%header%autowidth.spread,cols="1a,1a,1a,4a"]
|===
| Field | Attribute | Value | Description 

| *Message* | `message` | String or DataWeave expression | Specifies the Mule log message. By default, messages are logged to the application's log file. Example:
`message="Current payload is #[payload]"`. Note that the Logger is one of the only components that supports this syntax to embed an expression (such as `#[payload]` within a string. Messages in other Mule components require string interpolation or concatenation within a single DataWeave expression.

| Level | `level` | Available options:

* `DEBUG`
* `ERROR`
* `INFO`(Default)
* `TRACE`
* `WARN` |
Specifies the log level. Example: `level="ERROR"`

| Category | `category` | String | Optional setting that specifies a category name that it adds to `log4j2.xml` file. For example, you might use a category to route your log messages based on your category, or you might set log levels based on category. Example: 
`category="MyCustomCategory"`

|===

== Examples

This Logger monitors message processing status, mixing strings with a DataWeave selector expressions:

[source,xml]
----
<logger category="monitoring" message="Message #[payload.id] processed successfully" level="INFO"/>
----

Assuming a payload such as `{"id" : "100", "some-key" : "some value" }`, the Logger prints the message `Message 100 processed successfully`, for example:

[source,xml]
----
INFO  2022-11-10 21:11:07,791 [[MuleRuntime].uber.09: [w-logger].logger-example-Flow.CPU_LITE @600dcddb] 
[processor: logger-example-Flow/processors/1; event: 3fd13710-617f-11ed-900f-147ddaaf4f97]
org.mule.runtime.core.internal.processor.LoggerMessageProcessor: Message 100 processed successfully
----

This Logger records the processing time of a flow, using a single expression and DataWeave concatenation:

//TODO: Need to show how to get processing time or use a better example that doesn't throw an error. 
[source,xml]
----
<logger category="performance" message="#['Message ' ++ payload.id ++ ' took ' ++ vars.processingTime ++ ' milliseconds to process']" level="INFO"/>
----

== Streamed Data

//TODO: say something about how a logger handles streamed content


== See also

* xref:dataweave::dataweave-types.adoc#dw_type_string[DataWeave String Type]
